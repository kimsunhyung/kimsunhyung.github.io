<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>손햄의 개발 이야기</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="손햄의 개발 이야기">
<meta property="og:url" content="https://kimsunhyung.github.io/index.html">
<meta property="og:site_name" content="손햄의 개발 이야기">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="John Doe">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="손햄의 개발 이야기" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.2.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">손햄의 개발 이야기</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://kimsunhyung.github.io"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-0728airflow_pipeline_spark_install" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/07/28/0728airflow_pipeline_spark_install/" class="article-date">
  <time class="dt-published" datetime="2022-07-28T00:00:00.000Z" itemprop="datePublished">2022-07-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/07/28/0728airflow_pipeline_spark_install/">0728_airflow pipeline 구축 및 spark 설치</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="0728-airflow-파이프라인-구축-및-스파크-설치"><a href="#0728-airflow-파이프라인-구축-및-스파크-설치" class="headerlink" title="0728 airflow 파이프라인 구축 및 스파크 설치"></a>0728 airflow 파이프라인 구축 및 스파크 설치</h1><p><img src="/images/0728airflow_pipeline_spark_install/1.png" alt="png"></p>
<ul>
<li>경로 이동 방법</li>
<li>cat 자신이 작성한 코드를 보여줌</li>
</ul>
<p><img src="/images/0728airflow_pipeline_spark_install/2.png" alt="png"></p>
<p><img src="/images/0728airflow_pipeline_spark_install/3.png" alt="png"></p>
<ul>
<li>1000개의가짜데이터 형성</li>
<li>라이브러리를 불러올 때 파일 명과 동일하게 생성하면 라이브러리가 제대로 불러오지 못함.</li>
</ul>
<h1 id="airflow-파이프라인-구축"><a href="#airflow-파이프라인-구축" class="headerlink" title="airflow  파이프라인 구축"></a>airflow  파이프라인 구축</h1><ul>
<li>airflow.cfg 로 들어가서 load_example을 True에서 False로 변경</li>
</ul>
<p><img src="/images/0728airflow_pipeline_spark_install/4.png" alt="png"></p>
<ul>
<li>라이브러리를 불러온다.</li>
</ul>
<hr>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime <span class="keyword">as</span> dt</span><br><span class="line"><span class="keyword">from</span> datetime <span class="keyword">import</span> timedelta</span><br><span class="line"><span class="keyword">from</span> airflow <span class="keyword">import</span> <span class="variable constant_">DAG</span></span><br><span class="line"><span class="keyword">from</span> airflow.<span class="property">operators</span>.<span class="property">bash</span> <span class="keyword">import</span> <span class="title class_">BashOperator</span></span><br><span class="line"><span class="keyword">from</span> airflow.<span class="property">operators</span>.<span class="property">python</span> <span class="keyword">import</span> <span class="title class_">PythonOperator</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br></pre></td></tr></table></figure>

<hr>
<ul>
<li>csv 파일을 읽어서 name을 추출하는 함수를 작성</li>
<li>csv파일에서 데이터를 읽어 들이는 방법과 데이터를 json파일로 기록하는 방법을 조합</li>
</ul>
<hr>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">def <span class="title function_">csvToJson</span>():</span><br><span class="line">df=pd.<span class="title function_">read_csv</span>(<span class="string">&#x27;dags/data.csv&#x27;</span>)</span><br><span class="line"><span class="keyword">for</span> i,r <span class="keyword">in</span> df.<span class="title function_">iterrows</span>():</span><br><span class="line"><span class="title function_">print</span>(r[<span class="string">&#x27;name&#x27;</span>])</span><br><span class="line">df.<span class="title function_">to_json</span>(<span class="string">&#x27;fromAirflow.json&#x27;</span>,orient=<span class="string">&#x27;records&#x27;</span>)</span><br></pre></td></tr></table></figure>

<hr>
<ul>
<li>사전 객체로 dag 호출 후 객체 생성</li>
<li>default_args 매개변수 앞에서는 설정한 사전 객체 지정 후</li>
<li>실행 사이 간격을 지정한다</li>
<li>timedelta, crontab으로 사용가능</li>
</ul>
<hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">default_args = &#123;</span><br><span class="line">    <span class="string">&#x27;owner&#x27;</span>: <span class="string">&#x27;evan&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;start_date&#x27;</span>: dt.datetime(<span class="number">2022</span>, <span class="number">7</span>, <span class="number">27</span>),</span><br><span class="line">    <span class="string">&#x27;retries&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="string">&#x27;retry_delay&#x27;</span>: dt.timedelta(minutes=<span class="number">1</span>),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<ul>
<li>airflow webserver -p 포트번호</li>
<li>airflow scheduler</li>
</ul>
<hr>
<hr>
<h1 id="스파크-설치"><a href="#스파크-설치" class="headerlink" title="스파크 설치"></a>스파크 설치</h1><ul>
<li>스파크를 사용하는 이유</li>
</ul>
<p><img src="/images/0728airflow_pipeline_spark_install/5.png" alt="png"></p>
<p>- </p>
<ul>
<li>ubuntu 열기 후</li>
</ul>
<p><img src="/images/0728airflow_pipeline_spark_install/6.png" alt="png"></p>
<ul>
<li>경로 설정 후 파일 생성 후</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install openjdk-<span class="number">8</span>-jdk</span><br></pre></td></tr></table></figure>

<ul>
<li>코드 입력 후</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo wget [<span class="attr">https</span>:<span class="comment">//archive.apache.org/dist/spark/spark-3.2.0/spark-3.2.0-bin-hadoop3.2.tgz](https://archive.apache.org/dist/spark/spark-3.2.0/spark-3.2.0-bin-hadoop3.2.tgz)</span></span><br></pre></td></tr></table></figure>

<ul>
<li>코드 입력</li>
</ul>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 압축풀기</span><br><span class="line">sudo tar -xvzf spark-<span class="number">3.2</span><span class="number">.0</span>-bin-hadoop3<span class="number">.2</span>.<span class="property">tgz</span></span><br></pre></td></tr></table></figure>

<ul>
<li>압축을 풀고 난 후 파일 생성</li>
</ul>
<p><img src="/images/0728airflow_pipeline_spark_install/7.png" alt="png"></p>
<p><img src="/images/0728airflow_pipeline_spark_install/8.png" alt="png"></p>
<p><img src="/images/0728airflow_pipeline_spark_install/9.png" alt="png"></p>
<ul>
<li>파일을 지우는 명령어</li>
</ul>
<p><img src="/images/0728airflow_pipeline_spark_install/10.png" alt="png"></p>
<p><img src="/images/0728airflow_pipeline_spark_install/11.png" alt="png"></p>
<ul>
<li>복사코드</li>
</ul>
<p><img src="/images/0728airflow_pipeline_spark_install/12.png" alt="png"></p>
<p><img src="/images/0728airflow_pipeline_spark_install/13.png" alt="png"></p>
<p><img src="/images/0728airflow_pipeline_spark_install/14.png" alt="png"></p>
<p><img src="/images/0728airflow_pipeline_spark_install/15.png" alt="png"></p>
<p><img src="/images/0728airflow_pipeline_spark_install/16.png" alt="png"></p>
<p>한 후 localhost:8080을 웹에 작성하면 </p>
<p><img src="/images/0728airflow_pipeline_spark_install/17.png" alt="png"></p>
<p>이 화면이 나옴.</p>
<p>환경변수 &#x3D; 해당 파일이 있는지 없는지 확인하는 경로</p>
<p><img src="/images/0728airflow_pipeline_spark_install/18.png" alt="png"></p>
<p><img src="/images/0728airflow_pipeline_spark_install/19.png" alt="png"></p>
<p><img src="/images/0728airflow_pipeline_spark_install/20.png" alt="png"></p>
<p>배포 후</p>
<p>HOME으로 이동한 후</p>
<p><img src="/images/0728airflow_pipeline_spark_install/21.png" alt="png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 환경변수 설정</span></span><br><span class="line">export AIRFLOW_HOME=/home/human/airflow</span><br><span class="line">export JAVA_HOME=/usr/lib/jvm/java-<span class="number">8</span>-openjdk-amd64</span><br><span class="line">export SPARK_HOME=/home/human/spark3</span><br><span class="line">export PATH=$JAVA_HOME/<span class="built_in">bin</span>:$PATH</span><br><span class="line">export PATH=$SPARK_HOME/<span class="built_in">bin</span>:$PATH</span><br><span class="line">export PYSPARK_PYTHON=/usr/<span class="built_in">bin</span>/python3</span><br></pre></td></tr></table></figure>

<ul>
<li>환경 변수 설정 후 배포 한 후</li>
<li>ubuntu 를 종료 하고 다시 실행하여</li>
<li>pyspark 코드를 입력 하면 활성화됨</li>
</ul>
<hr>
<p><img src="/images/0728airflow_pipeline_spark_install/22.png" alt="png"></p>
<p>가상환경 설정 후 3개의 파인스파크 파이스파크를 설치한 후 파이 스파크 활성화</p>
<p><img src="/images/0728airflow_pipeline_spark_install/23.png" alt="png"></p>
<p>환경변수 추가</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kimsunhyung.github.io/2022/07/28/0728airflow_pipeline_spark_install/" data-id="cl6650por0000v8tv3urqdpki" data-title="0728_airflow pipeline 구축 및 spark 설치" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-0727_WSL2설치_WINDOW SUBSYSTEM FOR linux설치" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/07/27/0727_WSL2%EC%84%A4%EC%B9%98_WINDOW%20SUBSYSTEM%20FOR%20linux%EC%84%A4%EC%B9%98/" class="article-date">
  <time class="dt-published" datetime="2022-07-27T00:00:00.000Z" itemprop="datePublished">2022-07-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/07/27/0727_WSL2%EC%84%A4%EC%B9%98_WINDOW%20SUBSYSTEM%20FOR%20linux%EC%84%A4%EC%B9%98/">0727 WSL2 설치</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="WSL2-설치-WINDOW-SUBSYSTEM-FOR-linux-설치"><a href="#WSL2-설치-WINDOW-SUBSYSTEM-FOR-linux-설치" class="headerlink" title="WSL2 설치 (WINDOW SUBSYSTEM FOR linux  설치)"></a>WSL2 설치 (WINDOW SUBSYSTEM FOR linux  설치)</h1><p><img src="/images/0727/Untitled.png" alt="png"></p>
<ul>
<li>power shell 명령창을 키고</li>
</ul>
<p><code>dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart</code></p>
<p><code>dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart</code></p>
<p><code>[https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi](https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi)</code></p>
<ul>
<li>위에 두개의 명령어 작성 후 밑에 사이트로 들어가서 다운로드</li>
</ul>
<p><img src="/images/0727/Untitled1.png" alt="png"></p>
<ul>
<li>마이크로소프트 스토어에서 ubuntu 20.04.4 다운로드</li>
<li>개발은 lts에서 진행하는 것이 더 수월</li>
</ul>
<p><img src="/images/0727/Untitled2.png" alt="png"></p>
<ul>
<li>이런 창이 뜰 경우 가상 환경이 잘 세팅이 되어 있지 않다는 뜻</li>
<li>powershell 명령 창을 띄워서 가상 환경 설정 명령어 작성이 필요</li>
</ul>
<p><code>Enable-WindowsOptionalFeature -Online -FeatureName Microsoft-Hyper-V -All</code></p>
<ul>
<li>작성해도  오류가 뜨면</li>
<li>검색창에 윈도우 기능 켜기를 킴 (첫번째로 진행해야 함)</li>
<li>아이디 작성 후 비밀번호 작성 시 비밀번호가 뜨지 않으니 주의해야 함.</li>
</ul>
<p><img src="/images/0727/Untitled3.png" alt="png"></p>
<ul>
<li>window 하이퍼바이저 플랫폼을 체크해야함 재부팅 후</li>
</ul>
<p><img src="/images/0727/Untitled4.png" alt="png"></p>
<ul>
<li>powershell에서</li>
</ul>
<p><code>wsl --set-default-version 2</code> 명령어를 작성</p>
<ul>
<li><p>wsl -l -v 해서 version 2가 나오지 않고 1이 반복해서 나올 경우 ubuntu 제거 후 재 설치</p>
</li>
<li><p>요약</p>
</li>
</ul>
<p>1단계 : 윈도우즈 기능&#x2F;켜기 - 하이퍼 바이저 플랫폼 클릭, 가상머신 플랫폼, Hyper-V 클릭, 컴퓨터마다 조금씩 다름.2단계 : PowerShell 관리자 권한 실행 후 아래 명령어 입력</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dism.exe /online /enable-feature /featurename:Microsoft-Windows-Subsystem-Linux /all /norestart</span><br></pre></td></tr></table></figure>

<ul>
<li>다음 명령어 입력</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dism.exe /online /enable-feature /featurename:VirtualMachinePlatform /all /norestart</span><br></pre></td></tr></table></figure>

<p>3단계 : 재부팅4단계 : 다운로드 및 실행하여 업데이트</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://wslstorestorage.blob.core.windows.net/wslblob/wsl_update_x64.msi</span><br></pre></td></tr></table></figure>

<p>5단계 : Microsoft Store 접속 및 Ubuntu 검색6단계 : Ubuntu 실행 및 ID&#x2F;PW 생성7단계 : wsl –set-default-version 2 (편집됨)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kimsunhyung.github.io/2022/07/27/0727_WSL2%EC%84%A4%EC%B9%98_WINDOW%20SUBSYSTEM%20FOR%20linux%EC%84%A4%EC%B9%98/" data-id="cl63bid9900006otvcrwu9gms" data-title="0727 WSL2 설치" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-0727_환경변수 설치" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/07/27/0727_%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98%20%EC%84%A4%EC%B9%98/" class="article-date">
  <time class="dt-published" datetime="2022-07-27T00:00:00.000Z" itemprop="datePublished">2022-07-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/07/27/0727_%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98%20%EC%84%A4%EC%B9%98/">0727 환경변수 설치</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="LINUX-환경-변수-설치"><a href="#LINUX-환경-변수-설치" class="headerlink" title="LINUX 환경 변수 설치"></a>LINUX 환경 변수 설치</h1><p>Created: 2022년 7월 27일 오전 11:44<br>Last Edited Time: 2022년 7월 27일 오후 4:32</p>
<h1 id="vi-편집기-중요"><a href="#vi-편집기-중요" class="headerlink" title="vi 편집기 중요"></a>vi 편집기 중요</h1><ul>
<li>환경변수 설치하기</li>
</ul>
<p>pwd 입력하여 위치 확인 후 복사</p>
<p>vi ~&#x2F;.bashrc 입력하면 편집기가 켜짐</p>
<p>i를 입력하면 insert 가 생김</p>
<p><img src="/images/0727_%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98/Untitled.png" alt="png"></p>
<ul>
<li>저장하기</li>
<li>작성 후 ESC누른 후</li>
</ul>
<p>:wq! 를 입력</p>
<ul>
<li>시스템에 반영을 하기 위해</li>
</ul>
<p>source ~&#x2F;.bashrc 를 입력</p>
<ul>
<li>반영 후 가상 환경에서 나가지기 때문에 다시 가상 환경을 설정한 후</li>
</ul>
<p><img src="/images/0727_%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98/Untitled1.png" alt="png"></p>
<ul>
<li>위와 같은 코드를 입력하면 환경설정 완료</li>
</ul>
<p><img src="/images/0727_%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98/Untitled2.png" alt="png"></p>
<p>잘못 작성했을 시 저장하지 않고 나감</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kimsunhyung.github.io/2022/07/27/0727_%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98%20%EC%84%A4%EC%B9%98/" data-id="cl63bzpg50000wotv7kgy4ixr" data-title="0727 환경변수 설치" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-0727_airflow설치" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/07/27/0727_airflow%EC%84%A4%EC%B9%98/" class="article-date">
  <time class="dt-published" datetime="2022-07-27T00:00:00.000Z" itemprop="datePublished">2022-07-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/07/27/0727_airflow%EC%84%A4%EC%B9%98/">0727 airflow설치</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="아파치-에어플로-설치-및-설정"><a href="#아파치-에어플로-설치-및-설정" class="headerlink" title="아파치 에어플로 설치 및 설정"></a>아파치 에어플로 설치 및 설정</h1><p>Created: 2022년 7월 27일 오후 2:06<br>Last Edited Time: 2022년 7월 27일 오후 3:21</p>
<ul>
<li>설치하는 이유 (스케줄 관리 등)</li>
</ul>
<p><img src="/images/0727_airflow%EC%84%A4%EC%B9%98/Untitled.png" alt="png"></p>
<ul>
<li>가상환경 설정 후 apache-airflow 설치</li>
</ul>
<p>pip3 install ‘apache-airflow[postgres, slack, celery]’ (pip버전에 따라 코드 다름)</p>
<ul>
<li>설치 후</li>
</ul>
<p> airflow db init 코드 입력 </p>
<p><img src="/images/0727_airflow%EC%84%A4%EC%B9%98/Untitled1.png" alt="png"></p>
<ul>
<li>입력 후 활성화 됨</li>
<li>웹에서 <a target="_blank" rel="noopener" href="http://localhost:8081/">localhost:8081</a> 입력하면 sign in이 뜸</li>
<li>종료 후 아이디 생성</li>
<li><code>airflow users create --username airflow --password airflow --firstname evan --lastname airflow --role Admin --email your_email@some.com</code> 코드 작성</li>
<li>아이디 패스워드 입력하면 접속 완료</li>
</ul>
<hr>
<ul>
<li>환경이 설정 되지 않을 경우</li>
</ul>
<p><img src="/images/0727_airflow%EC%84%A4%EC%B9%98/Untitled2.png/" alt="png"></p>
<ul>
<li>가상환경을 제거하고</li>
<li>vi ~&#x2F;.bashrc 설정 후</li>
<li>d를 두번 클릭하여 export절을 삭제한 후  :wq!로 저장한 후</li>
</ul>
<p><img src="/images/0727_airflow%EC%84%A4%EC%B9%98/Untitled3.png" alt="png"></p>
<ul>
<li>모든 프로그램을 종료 하고 처음부터 시작</li>
</ul>
<p><img src="/images/0727_airflow%EC%84%A4%EC%B9%98/Untitled4.png" alt="png"></p>
<p><img src="/images/0727_airflow%EC%84%A4%EC%B9%98/Untitled5.png" alt="png"></p>
<ul>
<li>가상환경 설정이 안될경우</li>
<li>sudo apt install python3.8-venv</li>
<li>python -m venv venv 를 작성</li>
</ul>
<hr>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kimsunhyung.github.io/2022/07/27/0727_airflow%EC%84%A4%EC%B9%98/" data-id="cl63ca8sq0000bstv75b3gnu5" data-title="0727 airflow설치" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-0727_vscode_wsl연동" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/07/27/0727_vscode_wsl%EC%97%B0%EB%8F%99/" class="article-date">
  <time class="dt-published" datetime="2022-07-27T00:00:00.000Z" itemprop="datePublished">2022-07-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/07/27/0727_vscode_wsl%EC%97%B0%EB%8F%99/">0727 vs code, wsl연동</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="VS-코드-WSL연동"><a href="#VS-코드-WSL연동" class="headerlink" title="VS 코드 WSL연동"></a>VS 코드 WSL연동</h1><ul>
<li>검색창에 환경변수 클릭 후</li>
<li>하단에 환경 변수 클릭</li>
</ul>
<p><img src="/images/0727_vscode_wsl%EC%97%B0%EB%8F%99/Untitled.png" alt="png"></p>
<ul>
<li>PATH 클릭 후 MICROSOFT VSCODE 가 있으면 연동 완료</li>
</ul>
<hr>
<ul>
<li>빅데이터 플랫폼 구축<ul>
<li>CONFIGGURATION - 각 설치 프로그램끼리 환경 변수로 유기적으로 연결시킴</li>
<li>레고블록</li>
<li>셀레니움, 경로 맞지 않을경우 되지 않음</li>
</ul>
</li>
</ul>
<hr>
<ul>
<li>remote wsl 검색 후 설치</li>
<li>VISUAL CODE 터미널에서 UBUNTU  뜨면 성공</li>
<li>ubuntu 실행 후</li>
</ul>
<p><img src="/images/0727_vscode_wsl%EC%97%B0%EB%8F%99/Untitled1.png" alt="png"></p>
<ul>
<li>상위 폴더로 올라가야 함.</li>
<li>리눅스 기본 명령어를 보고 공부해야 함-</li>
</ul>
<p><img src="/images/0727_vscode_wsl%EC%97%B0%EB%8F%99/Untitled2.png" alt="png"></p>
<ul>
<li>두 개의 파일이 있다는 뜻 이어서 한 개만 선택하여 진행 한 후</li>
<li>vs code 실행</li>
<li>가상 환경 설치를 위하여 파이썬 버전 확인 및</li>
</ul>
<p><img src="/images/0727_vscode_wsl%EC%97%B0%EB%8F%99/Untitled3.png" alt="png"></p>
<ul>
<li>설치 명령어 작성</li>
<li>실행되지 않을 시</li>
</ul>
<p>sudo apt-get update 작성 후</p>
<p>sudo apt install python3-pip 작성 후 </p>
<p>y&#x2F;n이 뜨면 y 작성 후 진행</p>
<ul>
<li>설치 후 pip3에 가상 환경 설정</li>
</ul>
<p><img src="/images/0727_vscode_wsl%EC%97%B0%EB%8F%99/Untitled4.png" alt="png"></p>
<p><img src="/images/0727_vscode_wsl%EC%97%B0%EB%8F%99/Untitled5.png" alt="png"></p>
<ul>
<li>가상 환경 접속 시 linux는 scripts가 아니라 bin으로 접속해야 함</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kimsunhyung.github.io/2022/07/27/0727_vscode_wsl%EC%97%B0%EB%8F%99/" data-id="cl63chfle00008otv9pmthd6e" data-title="0727 vs code, wsl연동" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-0726_crawling기초" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/07/26/0726_crawling%EA%B8%B0%EC%B4%88/" class="article-date">
  <time class="dt-published" datetime="2022-07-26T00:00:00.000Z" itemprop="datePublished">2022-07-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/07/26/0726_crawling%EA%B8%B0%EC%B4%88/">0726_crawling기초</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>from bs4 import BeautifulSoup</p>
<h1 id="index-html-파일을-불러옴"><a href="#index-html-파일을-불러옴" class="headerlink" title="index.html 파일을 불러옴"></a>index.html 파일을 불러옴</h1><p>soup &#x3D; BeautifulSoup(open(“index.html”, encoding&#x3D;”utf-8”), “html.parser”)</p>
<h1 id="print-soup"><a href="#print-soup" class="headerlink" title="print(soup)"></a>print(soup)</h1><p>soup &#x3D; (soup.find(‘div’,class_ &#x3D; “computer”))</p>
<h1 id="print-soup-1"><a href="#print-soup-1" class="headerlink" title="print(soup)"></a>print(soup)</h1><p>soup &#x3D; soup.find(‘p’)</p>
<h1 id="print-soup-2"><a href="#print-soup-2" class="headerlink" title="print(soup)"></a>print(soup)</h1><p>final_text &#x3D;soup.get_text()<br>print(final_text)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kimsunhyung.github.io/2022/07/26/0726_crawling%EA%B8%B0%EC%B4%88/" data-id="cl61w341z00003ktv4za6fhn8" data-title="0726_crawling기초" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-0726_crawling기초2" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/07/26/0726_crawling%EA%B8%B0%EC%B4%882/" class="article-date">
  <time class="dt-published" datetime="2022-07-26T00:00:00.000Z" itemprop="datePublished">2022-07-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/07/26/0726_crawling%EA%B8%B0%EC%B4%882/">0726_crawling기초2</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="import-requests"><a href="#import-requests" class="headerlink" title="import requests"></a>import requests</h1><p>from bs4 import BeautifulSoup</p>
<h1 id="url-x3D-“http-www-naver-com-quot"><a href="#url-x3D-“http-www-naver-com-quot" class="headerlink" title="url &#x3D; “http://www.naver.com&quot;"></a>url &#x3D; “<a target="_blank" rel="noopener" href="http://www.naver.com&quot;/">http://www.naver.com&quot;</a></h1><h1 id="req-x3D-requests-get-url"><a href="#req-x3D-requests-get-url" class="headerlink" title="req &#x3D; requests.get(url)"></a>req &#x3D; requests.get(url)</h1><h1 id="print-req-status-code"><a href="#print-req-status-code" class="headerlink" title="print(req.status_code)"></a>print(req.status_code)</h1><h1 id="200-이-뜨면-웹페이지가-살아-있다는-것-404가-뜰-경우-잘-못들어-간-것-이거나-사이트가-사라진-것"><a href="#200-이-뜨면-웹페이지가-살아-있다는-것-404가-뜰-경우-잘-못들어-간-것-이거나-사이트가-사라진-것" class="headerlink" title="200 이 뜨면 웹페이지가 살아 있다는 것 404가 뜰 경우 잘 못들어 간 것 이거나 사이트가 사라진 것"></a>200 이 뜨면 웹페이지가 살아 있다는 것 404가 뜰 경우 잘 못들어 간 것 이거나 사이트가 사라진 것</h1><h1 id="print-req-text"><a href="#print-req-text" class="headerlink" title="print(req.text)"></a>print(req.text)</h1><h1 id="네이버에서-기사-가져오기"><a href="#네이버에서-기사-가져오기" class="headerlink" title="네이버에서 기사 가져오기"></a>네이버에서 기사 가져오기</h1><p>import requests<br>from bs4 import BeautifulSoup</p>
<p>def crawling(soup):<br>    div &#x3D; soup.find(“div”, class_&#x3D;”list_issue”) </p>
<h1 id="사이트에서-크롤링할-것에-대해-검사-창을-열어-요소를-확인하고-대입해야-함"><a href="#사이트에서-크롤링할-것에-대해-검사-창을-열어-요소를-확인하고-대입해야-함" class="headerlink" title="사이트에서 크롤링할 것에 대해 검사 창을 열어 요소를 확인하고 대입해야 함"></a>사이트에서 크롤링할 것에 대해 검사 창을 열어 요소를 확인하고 대입해야 함</h1><pre><code># print(div)
result = []

for a in div.find_all(&quot;a&quot;):
    # print(a.get_text())
    result.append(a.get_text())

links = []
for a in div.find_all(&quot;a&quot;):
    # print(a[&#39;href&#39;])
    # result.append(a.get_text())
    links.append(a[&#39;href&#39;])

print(result)
print(links)

return None
</code></pre>
<p>def main():<br>    url &#x3D; “<a target="_blank" rel="noopener" href="https://www.naver.com/&quot;">https://www.naver.com/&quot;</a><br>    req &#x3D; requests.get(url)<br>    soup &#x3D; BeautifulSoup(req.text, “html.parser”)</p>
<pre><code>print(crawling(soup))
</code></pre>
<p>if <strong>name</strong> &#x3D;&#x3D; “<strong>main</strong>“:<br>    main()</p>
<h1 id="벅스-차트-가져오기"><a href="#벅스-차트-가져오기" class="headerlink" title="벅스 차트 가져오기"></a>벅스 차트 가져오기</h1><p>import requests<br>from bs4 import BeautifulSoup</p>
<p>def crawling(soup):<br>    tbody &#x3D; soup.find(“tbody”)<br>    # print(tbody)</p>
<pre><code>result = []

for p in tbody.find_all(&quot;p&quot;, class_=&quot;title&quot;):
    # print(p.find(&quot;a&quot;).get_text())
    result.append(p.find(&quot;a&quot;).get_text())

return result
</code></pre>
<p>def main():<br>    url &#x3D; “<a target="_blank" rel="noopener" href="https://music.bugs.co.kr/chart&quot;">https://music.bugs.co.kr/chart&quot;</a><br>    req &#x3D; requests.get(url)<br>    soup &#x3D; BeautifulSoup(req.text, “html.parser”)</p>
<pre><code>print(crawling(soup))
</code></pre>
<p>if <strong>name</strong> &#x3D;&#x3D; “<strong>main</strong>“:<br>    main()</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kimsunhyung.github.io/2022/07/26/0726_crawling%EA%B8%B0%EC%B4%882/" data-id="cl61w342e00013ktvbebd1uqm" data-title="0726_crawling기초2" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-0722_oracle_기초문법3" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/07/22/0722_oracle_%EA%B8%B0%EC%B4%88%EB%AC%B8%EB%B2%953/" class="article-date">
  <time class="dt-published" datetime="2022-07-22T00:00:00.000Z" itemprop="datePublished">2022-07-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/07/22/0722_oracle_%EA%B8%B0%EC%B4%88%EB%AC%B8%EB%B2%953/">0722_oracle_sql 기초문법3</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>– 198p<br>– 서브쿼리<br>– SELECT, FROM, WHERE<br>– FROM : 인라인 뷰<br>– 메인 쿼리 : 사원테이블에서는 id, name 출력<br>–                    부서테이블에서는 부서ID, 부서명 출력<br>–                     사원테이블의 급여가 기획부서의 평균급여보다 높은 사람<br>–                     a.salary &gt; d.avg_salary<br>– 서브쿼리 : 기획부서의 평균급여</p>
<p>SELECT<br>    a.employee_id<br>    , a.emp_name<br>    , b.department_id<br>    , b.department_name<br>FROM employees a<br>            , departments b<br>            , (SELECT AVG(c.salary) AS avg_salary<br>               FROM departments b<br>                           , employees c<br>               WHERE b.parent_id &#x3D; 90<br>                    AND b.department_id &#x3D; c.department_id) d<br>WHERE a.department_id &#x3D; b.department_id<br>    AND a.salary &gt; d.avg_salary;</p>
<p>– p.199 하단<br>– 2000년 이탈리아 평균 매출액(연평균)보다 큰 월의 평균 매출액을 구하는 것<br>– 월별 평균 매출액 쿼리</p>
<p>SELECT<br>    a.sales_month<br>    , ROUND(AVG(a.amount_sold)) AS month_avg<br>FROM<br>    sales a<br>    , customers b<br>    , countries c<br>WHERE a.sales_month BETWEEN ‘200001’ AND ‘200012’<br>    AND a.cust_id &#x3D; b.CUST_ID<br>    AND b.COUNTRY_ID &#x3D; c.COUNTRY_ID<br>    AND c.COUNTRY_NAME &#x3D; ‘Italy’ – 이탈리아<br>GROUP BY a.sales_month;</p>
<p>– 연평균 매출액 쿼리</p>
<p>SELECT<br>    ROUND(AVG(a.amount_sold)) AS year_avg<br>FROM<br>    sales a<br>    , customers b<br>    , countries c<br>WHERE a.sales_month BETWEEN ‘20001’ AND ‘200012’<br>    AND a.cust_id &#x3D; b.CUST_ID<br>    AND b.COUNTRY_ID &#x3D; c.COUNTRY_ID<br>    AND c.COUNTRY_NAME &#x3D; ‘Italy’; – 이탈리아</p>
<p>SELECT a.*<br>FROM (SELECT<br>                 a.sales_month<br>                , ROUND(AVG(a.amount_sold)) AS month_avg<br>            FROM<br>                sales a<br>                , customers b<br>                , countries c<br>            WHERE a.sales_month BETWEEN ‘200001’ AND ‘200012’<br>                AND a.cust_id &#x3D; b.CUST_ID<br>                AND b.COUNTRY_ID &#x3D; c.COUNTRY_ID<br>                AND c.COUNTRY_NAME &#x3D; ‘Italy’ – 이탈리아<br>                GROUP BY a.sales_month) a<br>                , (SELECT<br>    ROUND(AVG(a.amount_sold)) AS year_avg<br>FROM<br>    sales a<br>    , customers b<br>    , countries c<br>WHERE a.sales_month BETWEEN ‘20001’ AND ‘200012’<br>    AND a.cust_id &#x3D; b.CUST_ID<br>    AND b.COUNTRY_ID &#x3D; c.COUNTRY_ID<br>    AND c.COUNTRY_NAME &#x3D; ‘Italy’) b<br>WHERE a.month_avg &gt; b.year_avg;</p>
<p>– 계층형 쿼리<br>– p.208 부서정보<br>– p.211<br>– START WITH 조건 &amp; CONNECT BY 조건<br>– parent_id &#x3D;&#x3D; 상위 부서 정보를 가지고 있음.<br>– CONNECT BY PRIOR department_id &#x3D; parent_id</p>
<p>SELECT<br>    department_id<br>    , LPAD(‘ ‘, 3 * (LEVEL - 1)) || department_name, LEVEL<br>FROM departments<br>START WITH parent_id IS NULL<br>CONNECT BY PRIOR department_id &#x3D; parent_id;</p>
<p>– 사원테이블에 있는 manager_id, employee_id</p>
<p>SELECT<br>    a.employee_id<br>    , LPAD(‘ ‘, 3 * (LEVEL-1)) || a.emp_name<br>    , LEVEL<br>    , b.department_name<br>FROM<br>    employees a<br>    , departments b<br>WHERE a.department_id &#x3D; b.department_id<br>START WITH a.manager_id IS NULL<br>CONNECT BY PRIOR a.employee_id &#x3D; a.manager_id;</p>
<p>– p.213</p>
<p>SELECT<br>    a.employee_id<br>    , LPAD(‘ ‘, 3 * (LEVEL-1)) || a.emp_name<br>    , LEVEL<br>    , b.department_name<br>    , a.department_id<br>FROM<br>    employees a<br>    , departments b<br>WHERE a.department_id &#x3D; b.department_id<br>START WITH a.manager_id IS NULL<br>CONNECT BY NOCYCLE PRIOR a.employee_id &#x3D; a.manager_id<br>    AND a.department_id &#x3D; 30;</p>
<p>– 계층형 쿼리 심화학습<br>– 쿼리가 나옴. ORDER BY 정렬 가능<br>– ORDER SIBLINGS BY </p>
<p>SELECT<br>    department_id<br>    , LPAD(‘ ‘, 3 * (LEVEL-1)) || department_name<br>    , LEVEL<br>FROM departments<br>START WITH parent_id IS NULL<br>CONNECT BY PRIOR department_id &#x3D; parent_id<br>ORDER SIBLINGS BY department_name;</p>
<p>– 연산자</p>
<p>SELECT<br>    department_id<br>    , LPAD(‘ ‘, 3 * (LEVEL-1)) || department_name<br>    , LEVEL<br>    , CONNECT_BY_ROOT department_name AS root_name<br>FROM departments<br>START WITH parent_id IS NULL<br>CONNECT BY PRIOR department_id &#x3D; parent_id;</p>
<p>– p.216 CONNECT_BY_ISLEAF<br>– 계층형 쿼리 응용<br>– 샘플 데이터 만들기</p>
<p>CREATE TABLE ex7_1 AS<br>SELECT<br>    ROWNUM seq<br>    , ‘2014’ || LPAD(CEIL(ROWNUM&#x2F;1000), 2, ‘0’) month<br>    , ROUND(DBMS_RANDOM.VALUE(100, 1000)) amt<br>FROM DUAL<br>CONNECT BY LEVEL &lt;&#x3D; 12000;</p>
<p>SELECT * FROM ex7_1;</p>
<p>SELECT<br>    month<br>    , SUM(amt)<br>FROM ex7_1<br>GROUP BY month<br>ORDER BY month;</p>
<p>– WITH절<br>– 서브쿼리의 가독성 향상<br>– 연도별, 최종, 월별 </p>
<p>WITH b2 AS (<br>    SELECT<br>        period<br>        , region<br>        , sum(loan_jan_amt) jan_amt<br>    FROM kor_loan_status<br>    GROUP BY period, region<br>)</p>
<p>SELECT b2.* FROM b2;</p>
<p>—- p231<br>—- 분석함수 window 함수<br>—- 문법<br>—- 분석함수(매개변수) over(partition by)<br>—- 분석함수<br>—- row_number()&#x2F;rownum</p>
<p>SELECT<br>    department_id<br>    ,emp_name<br>    ,ROW_NUMBER()OVER(PARTITION BY department_id<br>                        ORDER BY department_id,emp_name)dep_rows<br>FROM employees;</p>
<p>SELECT<br>    department_id<br>    ,emp_name<br>    , RANK()OVER(PARTITION BY department_id ORDER BY salary)dep_rank<br>FROM employees;</p>
<p>SELECT department_id<br>        , emp_name<br>        ,salary<br>        ,DENSE_RANK() OVER (PARTITION BY department_id ORDER BY salary ) dep_rank<br>      FROM employees;</p>
<p>—- p.234<br>—- WITH 절 응용</p>
<p>with temp AS (<br>SELECT<br>    department_id<br>    , emp_name<br>    , salary<br>    – , RANK () OVER (PARTITION BY department_id ORDER BY salary) dep_rank<br>    , DENSE_RANK () OVER (PARTITION BY department_id ORDER BY salary) dep_rank<br>FROM employees)</p>
<p>SELECT *<br>FROM (SELECT<br>    department_id<br>    , emp_name<br>    , salary<br>    – , RANK () OVER (PARTITION BY department_id ORDER BY salary) dep_rank<br>    , DENSE_RANK () OVER (PARTITION BY department_id ORDER BY salary) dep_rank<br>FROM employees)<br>WHERE dep_rank &lt;&#x3D; 3;</p>
<p>—- CUME_DIST : 상대적인 누적분포도 값 반환</p>
<p>SELECT<br>    department_id<br>    , emp_name<br>    , salary<br>    ,CUME_DIST()OVER(PARTITION BY department_id<br>                    ORDER BY salary)dep_dist<br>FROM employees;</p>
<p>—- PERCENT_RANK<br>—- 백분위 순위 반환<br>—- 60번 부서에 대한 CUME_DIST, PERCENT_RANK 값 조회</p>
<p>—- P.236<br>—- NTIME(숫자) 함수<br>—- 5개의 행을 숫자 만큼 담는다</p>
<p> SELECT<br>    department_id<br>    , emp_name<br>    , salary<br>    , NTILE(4) OVER (PARTITION BY department_id ORDER BY salary) NTILES<br>FROM employees<br>WHERE department_id IN (30, 60);</p>
<p>—- LAG - 선행 로우 값 반환<br>—- LEAD - 후행 로우 값 반환<br>—- 로우가 없을 시 DEFAULT로 명시한 값 반환 </p>
<p> SELECT<br>    emp_name<br>    , hire_date<br>    , salary<br>    , LAG(salary, 1, 0)  OVER (ORDER BY hire_date) AS prev_sal<br>    , LEAD(salary, 1, 0) OVER (ORDER BY hire_date) AS next_sal<br>FROM employees<br>WHERE department_id &#x3D; 30;</p>
<p>—- WINDOW 함수<br>—- P.240<br>—- 정렬은 입사일자 순 처리<br>—- UNBOUNDED PRECEDING 급여, 부서별 입사일자가 가장 빠른 사원<br>—- UNBOUNDED FOLLOWING 부서별 입사잊자가 가장 늦은 사원<br>—- 누적 합계</p>
<p>SELECT<br>    department_id<br>    , emp_name<br>    , hire_date<br>    , salary<br>    , SUM(salary)OVER(PARTITION BY department_id ORDER BY hire_date<br>                    ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING)AS all_salary<br>FROM employees<br>WHERE  department_id IN(30,90);</p>
<p>SELECT<br>    department_id<br>    , emp_name<br>    , hire_date<br>    , salary<br>    , SUM(salary)OVER(PARTITION BY department_id ORDER BY hire_date<br>                    ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING)AS all_salary<br>    , SUM(salary)OVER(PARTITION BY department_id ORDER BY hire_date<br>                    ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW)AS first_current_sal<br>    , SUM(salary)OVER(PARTITION BY department_id ORDER BY hire_date<br>                    ROWS BETWEEN CURRENT ROW AND UNBOUNDED FOLLOWING)AS current_end_sal           </p>
<p>FROM employees<br>WHERE  department_id IN(30,90);<br>&#96;&#96;&#96;</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kimsunhyung.github.io/2022/07/22/0722_oracle_%EA%B8%B0%EC%B4%88%EB%AC%B8%EB%B2%953/" data-id="cl5w6ft0e0000yktv4mtzcszp" data-title="0722_oracle_sql 기초문법3" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-0721_oracler_sql기초문법2" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/07/21/0721_oracler_sql%EA%B8%B0%EC%B4%88%EB%AC%B8%EB%B2%952/" class="article-date">
  <time class="dt-published" datetime="2022-07-21T00:00:00.000Z" itemprop="datePublished">2022-07-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/07/21/0721_oracler_sql%EA%B8%B0%EC%B4%88%EB%AC%B8%EB%B2%952/">0721_oracle_sql 기초문법2</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="기본집계함수"><a href="#기본집계함수" class="headerlink" title="기본집계함수"></a>기본집계함수</h2><p>SELECT count(*) FROM employees;</p>
<p>SELECT count(employee_id) FROM employees;</p>
<h4 id="NULL은-카운트-하지-않음"><a href="#NULL은-카운트-하지-않음" class="headerlink" title="NULL은 카운트 하지 않음"></a>NULL은 카운트 하지 않음</h4><p>SELECT count(department_id) FROM employees;</p>
<h4 id="유일한-값만-조회됨"><a href="#유일한-값만-조회됨" class="headerlink" title="유일한 값만 조회됨"></a>유일한 값만 조회됨</h4><p>SELECT count(DISTINCT department_id)<br>FROM employees;</p>
<h4 id="정렬"><a href="#정렬" class="headerlink" title="정렬"></a>정렬</h4><p>SELECT DISTINCT department_id<br>FROM employees<br>order by 1;</p>
<h2 id="p-154-기초-통계량"><a href="#p-154-기초-통계량" class="headerlink" title="p.154 기초 통계량"></a>p.154 기초 통계량</h2><p>####합계, 평균, 최소, 최대, 분산, 표준편차</p>
<h4 id="SQL-gt-통계도구-amp-머신러닝-데이터-과학도구로-변환"><a href="#SQL-gt-통계도구-amp-머신러닝-데이터-과학도구로-변환" class="headerlink" title="SQL ##&gt; 통계도구 &amp; 머신러닝, 데이터 과학도구로 변환"></a>SQL ##&gt; 통계도구 &amp; 머신러닝, 데이터 과학도구로 변환</h4><p>SELECT SUM(salary)<br>FROM employees;</p>
<p>SELECT SUM(salary), SUM(DISTINCT salary)<br>FROM employees;</p>
<h4 id="평균값"><a href="#평균값" class="headerlink" title="평균값"></a>평균값</h4><p>SELECT AVG(salary), AVG(DISTINCT salary)<br>FROM employees;</p>
<h4 id="최대값-최소값"><a href="#최대값-최소값" class="headerlink" title="최대값, 최소값"></a>최대값, 최소값</h4><p>SELECT MIN(salary), MAX(salary)<br>FROM employees;</p>
<p>SELECT MIN(DISTINCT salary), MAX(DISTINCT salary)<br>FROM employees;</p>
<h4 id="분산-및-표준편차"><a href="#분산-및-표준편차" class="headerlink" title="분산 및 표준편차"></a>분산 및 표준편차</h4><p>SELECT VARIANCE(salary), STDDEV(salary)<br>FROM employees;</p>
<h4 id="GROUP-BY-HAVING"><a href="#GROUP-BY-HAVING" class="headerlink" title="GROUP BY, HAVING"></a>GROUP BY, HAVING</h4><h4 id="그전까지는-전체-데이터를-기준으로-집계"><a href="#그전까지는-전체-데이터를-기준으로-집계" class="headerlink" title="그전까지는 전체 데이터를 기준으로 집계"></a>그전까지는 전체 데이터를 기준으로 집계</h4><p>SELECT<br>    department_id<br>    ,SUM(salary)<br>FROM employees<br>GROUP BY department_id<br>ORDER BY department_id;</p>
<p>SELECT*<br>FROM kor_loan_status;##가계대출 단위 십억<br>SELECT<br>    period<br>    , region<br>    , SUM(loan_jan_amt)totl_jan<br>FROM kor_loan_status<br>WHERE period LIKE ‘2013%’<br>GROUP BY period, region<br>ORDER BY period, region;</p>
<p>####2013년  11월 총 잔액만 구하기</p>
<p>SELECT<br>    period<br>    , region<br>    , SUM(loan_jan_amt)totl_jan<br>FROM KOR_LOAN_STATUS<br>WHERE period &#x3D; ‘201311’<br>GROUP BY region<br>ORDER BY region;</p>
<h4 id="period-가-group-by-에-명시될만한-컬럼이-되지-않아-오류가-남"><a href="#period-가-group-by-에-명시될만한-컬럼이-되지-않아-오류가-남" class="headerlink" title="period 가 group by 에 명시될만한 컬럼이 되지 않아 오류가 남."></a>period 가 group by 에 명시될만한 컬럼이 되지 않아 오류가 남.</h4><p>SELECT<br>    period<br>    , region<br>    , SUM(loan_jan_amt)totl_jan<br>FROM KOR_LOAN_STATUS<br>WHERE period &#x3D; ‘201311’<br>GROUP BY period, region<br>HAVING SUM(loan_jan_amt)&gt;100000<br>ORDER BY region;</p>
<h4 id="ROLLUP-CUBE"><a href="#ROLLUP-CUBE" class="headerlink" title="ROLLUP, CUBE"></a>ROLLUP, CUBE</h4><p>SELECT period, gubun, SUM(loan_jan_amt)totl_jan<br>FROM kor_loan_status<br>WHERE period LIKE ‘2013%’<br>GROUP BY period, gubun<br>ORDER BY period;</p>
<h4 id="ROLLUP-추가적인-집계-정보를-순차적으로-반환"><a href="#ROLLUP-추가적인-집계-정보를-순차적으로-반환" class="headerlink" title="ROLLUP 추가적인 집계 정보를 순차적으로 반환"></a>ROLLUP 추가적인 집계 정보를 순차적으로 반환</h4><p>SELECT period, gubun, SUM(loan_jan_amt)totl_jan<br>FROM kor_loan_status<br>WHERE period LIKE ‘2013%’<br>GROUP BY ROLLUP(period, gubun);</p>
<h4 id="CUBE-조합별로-집계한-정보를-반환"><a href="#CUBE-조합별로-집계한-정보를-반환" class="headerlink" title="CUBE 조합별로 집계한 정보를 반환"></a>CUBE 조합별로 집계한 정보를 반환</h4><p>SELECT period, gubun, SUM(loan_jan_amt)totl_jan<br>FROM kor_loan_status<br>WHERE period LIKE ‘2013%’<br>GROUP BY CUBE(period, gubun);</p>
<h4 id="위치가-달라질-때마다-반환되는-값이-다름"><a href="#위치가-달라질-때마다-반환되는-값이-다름" class="headerlink" title="위치가 달라질 때마다 반환되는 값이 다름"></a>위치가 달라질 때마다 반환되는 값이 다름</h4><h4 id="집합연산자"><a href="#집합연산자" class="headerlink" title="집합연산자"></a>집합연산자</h4><p>CREATE TABLE exp_goods_asia (<br>           country VARCHAR2(10),<br>           seq     NUMBER,<br>           goods   VARCHAR2(80));</p>
<pre><code>INSERT INTO exp_goods_asia VALUES (&#39;한국&#39;, 1, &#39;원유제외 석유류&#39;);
INSERT INTO exp_goods_asia VALUES (&#39;한국&#39;, 2, &#39;자동차&#39;);
INSERT INTO exp_goods_asia VALUES (&#39;한국&#39;, 3, &#39;전자집적회로&#39;);
INSERT INTO exp_goods_asia VALUES (&#39;한국&#39;, 4, &#39;선박&#39;);
INSERT INTO exp_goods_asia VALUES (&#39;한국&#39;, 5,  &#39;LCD&#39;);
INSERT INTO exp_goods_asia VALUES (&#39;한국&#39;, 6,  &#39;자동차부품&#39;);
INSERT INTO exp_goods_asia VALUES (&#39;한국&#39;, 7,  &#39;휴대전화&#39;);
INSERT INTO exp_goods_asia VALUES (&#39;한국&#39;, 8,  &#39;환식탄화수소&#39;);
INSERT INTO exp_goods_asia VALUES (&#39;한국&#39;, 9,  &#39;무선송신기 디스플레이 부속품&#39;);
INSERT INTO exp_goods_asia VALUES (&#39;한국&#39;, 10,  &#39;철 또는 비합금강&#39;);

INSERT INTO exp_goods_asia VALUES (&#39;일본&#39;, 1, &#39;자동차&#39;);
INSERT INTO exp_goods_asia VALUES (&#39;일본&#39;, 2, &#39;자동차부품&#39;);
INSERT INTO exp_goods_asia VALUES (&#39;일본&#39;, 3, &#39;전자집적회로&#39;);
INSERT INTO exp_goods_asia VALUES (&#39;일본&#39;, 4, &#39;선박&#39;);
INSERT INTO exp_goods_asia VALUES (&#39;일본&#39;, 5, &#39;반도체웨이퍼&#39;);
INSERT INTO exp_goods_asia VALUES (&#39;일본&#39;, 6, &#39;화물차&#39;);
INSERT INTO exp_goods_asia VALUES (&#39;일본&#39;, 7, &#39;원유제외 석유류&#39;);
INSERT INTO exp_goods_asia VALUES (&#39;일본&#39;, 8, &#39;건설기계&#39;);
INSERT INTO exp_goods_asia VALUES (&#39;일본&#39;, 9, &#39;다이오드, 트랜지스터&#39;);
INSERT INTO exp_goods_asia VALUES (&#39;일본&#39;, 10, &#39;기계류&#39;);
</code></pre>
<p>commit;</p>
<p>SELECT * FROM exp_goods_asia;</p>
<p>SELECT goods<br>FROM exp_goods_asia<br>WHERE country &#x3D; ‘한국’<br>ORDER BY seq</p>
<p>SELECT goods<br>FROM exp_goods_asia<br>WHERE country &#x3D; ‘일본’<br>ORDER BY seq</p>
<h4 id="두국가가-겹치는-수출품목은-한번만-조회하도록-함"><a href="#두국가가-겹치는-수출품목은-한번만-조회하도록-함" class="headerlink" title="두국가가 겹치는 수출품목은 한번만 조회하도록 함"></a>두국가가 겹치는 수출품목은 한번만 조회하도록 함</h4><h4 id="UNION-두-데이터-집합이-있으면-각-집합-원소를-모두-포함한-결과-반환하는-합집합-함수"><a href="#UNION-두-데이터-집합이-있으면-각-집합-원소를-모두-포함한-결과-반환하는-합집합-함수" class="headerlink" title="UNION 두 데이터 집합이 있으면 각 집합 원소를 모두 포함한 결과 반환하는 합집합 함수"></a>UNION 두 데이터 집합이 있으면 각 집합 원소를 모두 포함한 결과 반환하는 합집합 함수</h4><p>SELECT goods<br>FROM exp_goods_asia<br>WHERE country &#x3D; ‘한국’<br>UNION<br>SELECT goods<br>FROM exp_goods_asia<br>WHERE country &#x3D; ‘일본’;</p>
<h4 id="UNION-ALL-중복된-데이터도-모두-반환함"><a href="#UNION-ALL-중복된-데이터도-모두-반환함" class="headerlink" title="UNION ALL  중복된 데이터도 모두 반환함"></a>UNION ALL  중복된 데이터도 모두 반환함</h4><p>SELECT goods<br>FROM exp_goods_asia<br>WHERE country &#x3D; ‘한국’<br>UNION ALL<br>SELECT goods<br>FROM exp_goods_asia<br>WHERE country &#x3D; ‘일본’;</p>
<h4 id="INTERSECT-공통된-항목만-반환하는-교집합-함수"><a href="#INTERSECT-공통된-항목만-반환하는-교집합-함수" class="headerlink" title="INTERSECT, 공통된 항목만 반환하는 교집합 함수"></a>INTERSECT, 공통된 항목만 반환하는 교집합 함수</h4><p>SELECT goods<br>FROM exp_goods_asia<br>WHERE country &#x3D; ‘한국’<br>INTERSECT<br>SELECT goods<br>FROM exp_goods_asia<br>WHERE country &#x3D; ‘일본’;</p>
<h4 id="MINUS-공통된-항목을-제외한-항목만-반환하는-차집합"><a href="#MINUS-공통된-항목을-제외한-항목만-반환하는-차집합" class="headerlink" title="MINUS 공통된 항목을 제외한 항목만 반환하는 차집합"></a>MINUS 공통된 항목을 제외한 항목만 반환하는 차집합</h4><p>SELECT goods<br>FROM exp_goods_asia<br>WHERE country &#x3D; ‘한국’<br>MINUS<br>SELECT goods<br>FROM exp_goods_asia<br>WHERE country &#x3D; ‘일본’;</p>
<h4 id="GROUPING-SETS"><a href="#GROUPING-SETS" class="headerlink" title="GROUPING SETS"></a>GROUPING SETS</h4><p>SELECT<br>    period, gubun, SUM(loan_jan_amt)totl_jan<br>FROM kor_loan_status<br>WHERE period LIKE ‘2013%’<br>GROUP BY GROUPING SETS(period,gubun);</p>
<p>SELECT<br>    period, gubun, region, SUM(loan_jan_amt)totl_jan<br>FROM kor_loan_status<br>WHERE period LIKE ‘2013%’<br>    AND region IN(‘서울’,’경기’)<br>GROUP BY GROUPING SETS(period,(gubun,region));</p>
<h4 id="불친절한-pl-x2F-sql-프로그래밍-책-읽어보기"><a href="#불친절한-pl-x2F-sql-프로그래밍-책-읽어보기" class="headerlink" title="불친절한 pl&#x2F;sql 프로그래밍 책 읽어보기"></a>불친절한 pl&#x2F;sql 프로그래밍 책 읽어보기</h4><p>SELECT a.employee_id<br>        , a.emp_name<br>        , a.department_id<br>        , b.department_name<br>FROM employees a, departments b<br>WHERE a.department_id &#x3D; b.department_id;</p>
<h2 id="세미-조인"><a href="#세미-조인" class="headerlink" title="세미 조인"></a>세미 조인</h2><h4 id="서브-쿼리를-이용해-서브쿼리에-존재하는-데이터만-메인-쿼리에서-추출"><a href="#서브-쿼리를-이용해-서브쿼리에-존재하는-데이터만-메인-쿼리에서-추출" class="headerlink" title="서브 쿼리를 이용해 서브쿼리에 존재하는 데이터만 메인 쿼리에서 추출"></a>서브 쿼리를 이용해 서브쿼리에 존재하는 데이터만 메인 쿼리에서 추출</h4><h4 id="exist"><a href="#exist" class="headerlink" title="exist"></a>exist</h4><p>SELECT<br>    department_id<br>    , department_name<br>FROM departments a<br>WHERE EXISTS(SELECT*<br>    FROM departments a, employees b<br>    WHERE a.department_id &#x3D; b.department_id<br>    AND b.salary&gt;3000);</p>
<p>SELECT<br>    department_id<br>    , department_name<br>FROM departments a<br>    WHERE a.department_id IN(SELECT b.department_id<br>                            FROM employees b<br>                            WHERE b.salary&gt; 3000)<br>ORDER BY department_name;</p>
<p>SELECT<br>    a.department_id<br>    , a.department_name<br>FROM departments a, employees b<br>WHERE a.department_id &#x3D; b.department_id<br>    AND b.salary &gt;3000<br>ORDER BY a.department_name;</p>
<h4 id="안티조인"><a href="#안티조인" class="headerlink" title="안티조인"></a>안티조인</h4><h4 id="세미조인의-반대-개념"><a href="#세미조인의-반대-개념" class="headerlink" title="세미조인의 반대 개념"></a>세미조인의 반대 개념</h4><h4 id="NOT-EXSITS-NOT-IN"><a href="#NOT-EXSITS-NOT-IN" class="headerlink" title="NOT EXSITS, NOT IN"></a>NOT EXSITS, NOT IN</h4><p>SELECT<br>    a. employee_id<br>    , a.emp_name<br>    , a.department_id<br>    , b.department_name<br>FROM employees a<br>    , departments b<br>WHERE a.department_id &#x3D; b.department_id<br>    AND a.department_id NOT IN(SELECT department_id<br>                                FROM departments<br>                                WHERE manager_id IS NULL);</p>
<h4 id="P-180"><a href="#P-180" class="headerlink" title="P. 180"></a>P. 180</h4><p>SELECT count(*)<br>FROM employees a<br>WHERE NOT EXISTS(SELECT 1<br>                FROM departments C<br>                WHERE a.department_id &#x3D; c.department_id<br>                    AND manager_id IS NULL)</p>
<h4 id="셀프-조인"><a href="#셀프-조인" class="headerlink" title="셀프 조인"></a>셀프 조인</h4><h4 id="조인을-하려면-두개의-테이블"><a href="#조인을-하려면-두개의-테이블" class="headerlink" title="조인을 하려면 두개의 테이블"></a>조인을 하려면 두개의 테이블</h4><h4 id="하나의-테이블을-두개로-분리"><a href="#하나의-테이블을-두개로-분리" class="headerlink" title="하나의 테이블을 두개로 분리"></a>하나의 테이블을 두개로 분리</h4><h4 id="테이블-자기자신과-연결"><a href="#테이블-자기자신과-연결" class="headerlink" title="테이블 자기자신과 연결"></a>테이블 자기자신과 연결</h4><h4 id="같은-부서-번호를-가진-사원-중-A사원번호가-B사원보다-작은-것-조회"><a href="#같은-부서-번호를-가진-사원-중-A사원번호가-B사원보다-작은-것-조회" class="headerlink" title="같은 부서 번호를 가진 사원 중 A사원번호가 B사원보다 작은 것 조회"></a>같은 부서 번호를 가진 사원 중 A사원번호가 B사원보다 작은 것 조회</h4><p>SELECT<br>    a.employee_id<br>    , a.emp_name<br>    , b.employee_id<br>    , b.emp_name<br>    , a.department_id<br>FROM<br>    employees a<br>    , employees b<br>WHERE a.employee_id &lt; b.employee_id<br>    AND a.department_id &#x3D; b.department_id<br>    AND a.department_id &#x3D;20;</p>
<h4 id="p-181-일반-조인"><a href="#p-181-일반-조인" class="headerlink" title="p.181 일반 조인"></a>p.181 일반 조인</h4><p>SELECT<br>    a.department_id<br>    , a.department_name<br>    , b.job_id<br>    , b.department_id<br>FROM departments a,<br>     job_history b<br>WHERE a.department_id &#x3D; b.department_id;</p>
<h4 id="외부조인"><a href="#외부조인" class="headerlink" title="외부조인"></a>외부조인</h4><p>SELECT<br>    a.department_id<br>    , a.department_name<br>    , b.job_id<br>    , b.department_id<br>FROM departments a,<br>     job_history b<br>WHERE a.department_id &#x3D; b.department_id(+);</p>
<p>SELECT<br>    a.employee_id<br>    , a. emp_name<br>    , b.job_id<br>    , b.department_id<br>FROM employees a<br>     , job_history b<br>WHERE a.employee_id &#x3D; b.employee_id(+)<br>    AND a.department_id &#x3D; b.department_id;</p>
<p>SELECT<br>    a.employee_id<br>    , a. emp_name<br>    , b.job_id<br>    , b.department_id<br>FROM employees a<br>     , job_history b<br>WHERE a.employee_id &#x3D; b.employee_id(+)<br>    AND a.department_id &#x3D; b.department_id(+);</p>
<h4 id="ansi조인"><a href="#ansi조인" class="headerlink" title="ansi조인"></a>ansi조인</h4><p>SELECT<br>    a.employee_id<br>    , a.emp_name<br>    , b.department_id<br>    , b.department_name<br>FROM employees a<br>INNER JOIN departments b<br>    ON(a.department_id &#x3D; b.department_id)<br>WHERE a.hire_date&gt;&#x3D;TO_DATE(‘2003-01-01’,’YYYY-MM-DD’)</p>
<h4 id="p-186"><a href="#p-186" class="headerlink" title="p.186"></a>p.186</h4><h4 id="외부조인-1"><a href="#외부조인-1" class="headerlink" title="외부조인"></a>외부조인</h4><p>SELECT<br>    a.employee_id<br>    , a.emp_name<br>    , b.job_id<br>    , b.department_id<br>FROM employees a<br>LEFT OUTER JOIN job_history b<br>    ON(a.employee_id &#x3D; b.employee_id<br>        and a.department_id &#x3D; b.department_id);</p>
<p>SELECT<br>    a.employee_id<br>    , a.emp_name<br>    , b.job_id<br>    , b.department_id<br>FROM employees a<br>RIGHT OUTER JOIN job_history b<br>    ON(a.employee_id &#x3D; b.employee_id<br>        and a.department_id &#x3D; b.department_id);</p>
<h2 id="서브쿼리"><a href="#서브쿼리" class="headerlink" title="서브쿼리"></a>서브쿼리</h2><h4 id="SQL-수업의-하이라이트"><a href="#SQL-수업의-하이라이트" class="headerlink" title="SQL 수업의 하이라이트"></a>SQL 수업의 하이라이트</h4><h4 id="서브쿼리가-사용되는-위치-SELECT-FROM-WHERE"><a href="#서브쿼리가-사용되는-위치-SELECT-FROM-WHERE" class="headerlink" title="서브쿼리가 사용되는 위치 SELECT, FROM, WHERE"></a>서브쿼리가 사용되는 위치 SELECT, FROM, WHERE</h4><p>SELECT AVG(salary)FROM employees;</p>
<h4 id="배치-자동화"><a href="#배치-자동화" class="headerlink" title="배치 자동화"></a>배치 자동화</h4><p>SELECT count(*)<br>FROM employees<br>WHERE salary &gt;&#x3D; (SELECT AVG(salary)FROM employees);</p>
<p>SELECT count(*)<br>FROM employees<br>WHERE salary &gt;&#x3D; 서브쿼리에서 출력되는 값이 단일 행;</p>
<h4 id="IN-복수-결과값을-넣을-수-있음"><a href="#IN-복수-결과값을-넣을-수-있음" class="headerlink" title="IN(복수 결과값을 넣을 수 있음)"></a>IN(복수 결과값을 넣을 수 있음)</h4><p>SELECT count(*)<br>FROM employees<br>WHERE department_id IN(SELECT department_id<br>                       FROM departments<br>                       WHERE parent_id IS NULL)</p>
<p>SELECT employee_id<br>       , emp_name<br>       , job_id<br>FROM employees<br>WHERE (employee_id,job_id) IN(SELECT EMPLOYEE_ID<br>                                     , job_id<br>                                     FROM job_history);</p>
<h4 id="서브쿼리-SELECT-뿐아니라-UPDATE-DELETE에도-사용"><a href="#서브쿼리-SELECT-뿐아니라-UPDATE-DELETE에도-사용" class="headerlink" title="서브쿼리 SELECT 뿐아니라 UPDATE, DELETE에도 사용"></a>서브쿼리 SELECT 뿐아니라 UPDATE, DELETE에도 사용</h4><h4 id="전-사원의-급여를-평균-금액으로-갱신"><a href="#전-사원의-급여를-평균-금액으로-갱신" class="headerlink" title="전 사원의 급여를 평균 금액으로 갱신"></a>전 사원의 급여를 평균 금액으로 갱신</h4><p>CREATE TABLE employees0721 AS<br>SELECT*FROM employees;</p>
<h4 id="p-x2F-194-하단-SELECT에-서브쿼리"><a href="#p-x2F-194-하단-SELECT에-서브쿼리" class="headerlink" title="p&#x2F;194 하단 SELECT에 서브쿼리"></a>p&#x2F;194 하단 SELECT에 서브쿼리</h4><p>SELECT<br>    a.employee_id<br>    ,(SELECT b.emp_name<br>      FROM employees b<br>      WHERE a.employee_id &#x3D;b.employee_id) AS emp_name<br>    , a.department_id<br>    , (SELECT b.department_name<br>      FROM departments b<br>      WHERE a.department_id &#x3D; b.department_id) AS dep_name<br>FROM job_history a;</p>
<h4 id="메인쿼리"><a href="#메인쿼리" class="headerlink" title="메인쿼리"></a>메인쿼리</h4><p>SELECT<br>FROM<br>WHERE(서브쿼리(서브쿼리2))</p>
<p>SELECT<br>    a.department_id<br>    ,a.department_name<br>FROM departments a<br>WHERE EXISTS(SELECT 1<br>             FROM employees b<br>             WHERE a.department_id &#x3D; b.department_id<br>             AND b.salary&gt;(SELECT avg(salary)FROM employees)<br>             );</p>
<h4 id="메인-쿼리-부서테이블에서-부서-ID와-부서명"><a href="#메인-쿼리-부서테이블에서-부서-ID와-부서명" class="headerlink" title="메인 쿼리, 부서테이블에서 부서 ID와 부서명"></a>메인 쿼리, 부서테이블에서 부서 ID와 부서명</h4><h4 id="P-196"><a href="#P-196" class="headerlink" title="P.196"></a>P.196</h4><h4 id="메인쿼리-사원-테이블의-사원들의-부서별-평균-급여를-조회"><a href="#메인쿼리-사원-테이블의-사원들의-부서별-평균-급여를-조회" class="headerlink" title="메인쿼리 : 사원 테이블의 사원들의 부서별 평균 급여를 조회"></a>메인쿼리 : 사원 테이블의 사원들의 부서별 평균 급여를 조회</h4><h4 id="서브쿼리-상위부서가-기획부-부서-번호가-90-에-속함"><a href="#서브쿼리-상위부서가-기획부-부서-번호가-90-에-속함" class="headerlink" title="서브쿼리 : 상위부서가 기획부(부서 번호가 90)에 속함"></a>서브쿼리 : 상위부서가 기획부(부서 번호가 90)에 속함</h4><p>SELECT department_id,AVG(salary)<br>FROM employees<br>WHERE department_id IN(SELECT department_id<br>                       FROM departments<br>                       WHERE parent_id &#x3D; 90)<br>GROUP BY department_id;</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kimsunhyung.github.io/2022/07/21/0721_oracler_sql%EA%B8%B0%EC%B4%88%EB%AC%B8%EB%B2%952/" data-id="cl5uqia9y00009gtv34866git" data-title="0721_oracle_sql 기초문법2" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-0720_oracler_sql기초문법" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2022/07/20/0720_oracler_sql%EA%B8%B0%EC%B4%88%EB%AC%B8%EB%B2%95/" class="article-date">
  <time class="dt-published" datetime="2022-07-20T00:00:00.000Z" itemprop="datePublished">2022-07-20</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/07/20/0720_oracler_sql%EA%B8%B0%EC%B4%88%EB%AC%B8%EB%B2%95/">0720_oracle_sql 기초문법</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="SELECT-문"><a href="#SELECT-문" class="headerlink" title="SELECT 문"></a>SELECT 문</h2><h2 id="P-92"><a href="#P-92" class="headerlink" title="P.92"></a>P.92</h2><h2 id="급여가-5000이-넘는-사원번호와-사원명-조회"><a href="#급여가-5000이-넘는-사원번호와-사원명-조회" class="headerlink" title="급여가 5000이 넘는 사원번호와 사원명 조회"></a>급여가 5000이 넘는 사원번호와 사원명 조회</h2><p>SELECT * FROM employees;<br>SELECT<br>    employee_id<br>    , emp_name<br>    , salary<br>FROM employees<br>WHERE salary &lt; 3000<br>ORDER BY employee_id;</p>
<h2 id="급여가-5000-이상-job-id-it-prog-사원조회"><a href="#급여가-5000-이상-job-id-it-prog-사원조회" class="headerlink" title="급여가 5000 이상, job_id, it_prog 사원조회"></a>급여가 5000 이상, job_id, it_prog 사원조회</h2><p>SELECT employee_id<br>    , emp_name<br>    , salary<br>FROM employees<br>WHERE salary &gt;5000<br>    AND job_id &#x3D; ‘IT_PROG’<br>ORDER BY employee_id;</p>
<h2 id="테이블에-별칭-줄-수-있음"><a href="#테이블에-별칭-줄-수-있음" class="headerlink" title="테이블에 별칭 줄 수 있음"></a>테이블에 별칭 줄 수 있음</h2><p>SELECT</p>
<h2 id="a테이블에서-옴"><a href="#a테이블에서-옴" class="headerlink" title="a테이블에서 옴"></a>a테이블에서 옴</h2><pre><code>a.employee_id
, a.emp_name
, a.department_id
, b.department_name
</code></pre>
<h2 id="b테이블에서-옴"><a href="#b테이블에서-옴" class="headerlink" title="b테이블에서 옴"></a>b테이블에서 옴</h2><p>FROM<br>    employees a,<br>    departments b<br>WHERE a.department_id &#x3D;  b.department_id;</p>
<h2 id="insert-문-amp-updated-문"><a href="#insert-문-amp-updated-문" class="headerlink" title="insert 문 &amp; updated 문"></a>insert 문 &amp; updated 문</h2><h2 id="4교시-개별진행"><a href="#4교시-개별진행" class="headerlink" title="4교시 개별진행"></a>4교시 개별진행</h2><h2 id="p101"><a href="#p101" class="headerlink" title="p101"></a>p101</h2><h2 id="merge-데이터를-합치거나-추가"><a href="#merge-데이터를-합치거나-추가" class="headerlink" title="merge, 데이터를 합치거나 추가"></a>merge, 데이터를 합치거나 추가</h2><h2 id="조건을-비교해서-테이블에-해당-조건에-맞는-데이터가-없으면-추가"><a href="#조건을-비교해서-테이블에-해당-조건에-맞는-데이터가-없으면-추가" class="headerlink" title="조건을 비교해서 테이블에 해당 조건에 맞는 데이터가 없으면 추가"></a>조건을 비교해서 테이블에 해당 조건에 맞는 데이터가 없으면 추가</h2><h2 id="있으면-UPDATE문을-추가"><a href="#있으면-UPDATE문을-추가" class="headerlink" title="있으면 UPDATE문을 추가"></a>있으면 UPDATE문을 추가</h2><p>CREATE TABLE ex3_3(<br>    employee_id NUMBER<br>    , bonus_amt NUMBER DEFAULT 0<br>);</p>
<p>INSERT INTO ex3_3(employee_id)<br>SELECT<br>    e.employee_id<br>FROM employees e, sales s<br>WHERE e.employee_id &#x3D; s.employee_id<br>    AND s.SALES_MONTH BETWEEN ‘200010’ AND ‘200012’<br>GROUP BY e.employee_id;</p>
<p>SELECT*FROM ex3_3 ORDER BY employee_id;</p>
<h2 id="103p"><a href="#103p" class="headerlink" title="103p"></a>103p</h2><p>SELECT employee_id<br>    , manager_id<br>    , salary<br>    , salary * 0.01<br>FroM employees<br>WHERE employee_id IN(SELECT employee_id FROM ex3_3);</p>
<p>SELECT employee_id<br>    , manager_id<br>    , salary<br>    , salary * 0.001<br>FroM employees<br>WHERE employee_id NOT IN(SELECT employee_id FROM ex3_3)<br>    AND manager_id &#x3D; 146;</p>
<h2 id="MERGE-를-통해-작성"><a href="#MERGE-를-통해-작성" class="headerlink" title="MERGE 를 통해 작성"></a>MERGE 를 통해 작성</h2><h2 id="관리자-사번-146인-것-중-ex3-3-테이블에-없는"><a href="#관리자-사번-146인-것-중-ex3-3-테이블에-없는" class="headerlink" title="관리자 사번 146인 것 중, ex3_3 테이블에 없는"></a>관리자 사번 146인 것 중, ex3_3 테이블에 없는</h2><h2 id="사원의-사번-관리자-사번-급여-급여-0-001-조회"><a href="#사원의-사번-관리자-사번-급여-급여-0-001-조회" class="headerlink" title="사원의 사번, 관리자 사번, 급여, 급여*0.001 .조회"></a>사원의 사번, 관리자 사번, 급여, 급여*0.001 .조회</h2><h2 id="ex3-3-테이블의-160번-사원의-보너스-금액-7-5로-신규-입력"><a href="#ex3-3-테이블의-160번-사원의-보너스-금액-7-5로-신규-입력" class="headerlink" title="ex3_3 테이블의 160번 사원의 보너스 금액 7.5로 신규 입력"></a>ex3_3 테이블의 160번 사원의 보너스 금액 7.5로 신규 입력</h2><p>SELECT*FROM ex3_3;</p>
<h2 id="서브퀴리-개념-메인-퀄리-안에-추가된-쿼리"><a href="#서브퀴리-개념-메인-퀄리-안에-추가된-쿼리" class="headerlink" title="서브퀴리 개념 : 메인 퀄리 안에 추가된 쿼리"></a>서브퀴리 개념 : 메인 퀄리 안에 추가된 쿼리</h2><h2 id="UPDATE-amp-INSERT-구문"><a href="#UPDATE-amp-INSERT-구문" class="headerlink" title="UPDATE &amp; INSERT 구문"></a>UPDATE &amp; INSERT 구문</h2><h2 id="두개의-데이터를-병합"><a href="#두개의-데이터를-병합" class="headerlink" title="두개의 데이터를 병합"></a>두개의 데이터를 병합</h2><p>MERGE INTO ex3_3 d<br>    USING (SELECT employee_id, salary, manager_id<br>                  FROM employees<br>                  WHERE manager_id &#x3D; 146) b<br>    ON (d.employee_id &#x3D; b.employee_id)<br>WHEN MATCHED THEN<br>    UPDATE SET d.bonus_amt &#x3D; d.bonus_amt + b.salary * 0.01<br>    ## DELETE WHERE(b.employee_id &#x3D; 161) 데이터를 제거해줌<br>WHEN NOT MATCHED THEN<br>    INSERT (d.employee_id, d.bonus_amt) VALUES (b.employee_id, b.salary * .001)<br>    WHERE (b.salary &lt; 8000);</p>
<p>SELECT * FROM ex3_3 ORDER BY employee_id;</p>
<h2 id="p-106"><a href="#p-106" class="headerlink" title="p.106"></a>p.106</h2><h2 id="테이블-삭제"><a href="#테이블-삭제" class="headerlink" title="테이블 삭제"></a>테이블 삭제</h2><p>DELETE ex3_3;<br>SELECT*FROM ex3_3 ORDER BY employee_id;</p>
<h2 id="p-107"><a href="#p-107" class="headerlink" title="p.107"></a>p.107</h2><h2 id="commit-amp-rollback-개발자들에게-가장-중요하다"><a href="#commit-amp-rollback-개발자들에게-가장-중요하다" class="headerlink" title="commit &amp; rollback : 개발자들에게 가장 중요하다!"></a>commit &amp; rollback : 개발자들에게 가장 중요하다!</h2><h2 id="commit-변경한-데이터를-데이터베이스에-마지막으로-반영"><a href="#commit-변경한-데이터를-데이터베이스에-마지막으로-반영" class="headerlink" title="commit : 변경한 데이터를 데이터베이스에 마지막으로 반영"></a>commit : 변경한 데이터를 데이터베이스에 마지막으로 반영</h2><h2 id="rollback-변경한-데이터를-변경하기-이전-상태로-돌림"><a href="#rollback-변경한-데이터를-변경하기-이전-상태로-돌림" class="headerlink" title="rollback : 변경한 데이터를 변경하기 이전 상태로 돌림"></a>rollback : 변경한 데이터를 변경하기 이전 상태로 돌림</h2><p>CREATE TABLE ex3_4(<br>    employee_id NUMBER<br>);</p>
<p>INSERT INTO ex3_4 VALUES(100);</p>
<p>commit;</p>
<h2 id="P-109"><a href="#P-109" class="headerlink" title="P.109"></a>P.109</h2><p>TRUNCATE TABLE ex3_4</p>
<h2 id="p-110"><a href="#p-110" class="headerlink" title="p.110"></a>p.110</h2><p>SELECT<br>    ROWNUM, employee_id<br>FROM employees<br>WHERE ROWNUM &lt;5;</p>
<h2 id="ROWID-주소값"><a href="#ROWID-주소값" class="headerlink" title="ROWID, 주소값"></a>ROWID, 주소값</h2><h2 id="DBA-DB모델링-쿼리속도-측정-특성"><a href="#DBA-DB모델링-쿼리속도-측정-특성" class="headerlink" title="DBA, DB모델링 (쿼리속도 측정, 특성)"></a>DBA, DB모델링 (쿼리속도 측정, 특성)</h2><p>SELECT<br>    ROWNUM<br>    , employee_id<br>    , ROWID<br>FROM employees<br>WHERE ROWNUM&lt;5;</p>
<h2 id="연산자"><a href="#연산자" class="headerlink" title="연산자"></a>연산자</h2><h2 id="operator-연산-수행"><a href="#operator-연산-수행" class="headerlink" title="operator 연산 수행"></a>operator 연산 수행</h2><h2 id="수식-연산자-amp-문자-연산자"><a href="#수식-연산자-amp-문자-연산자" class="headerlink" title="수식 연산자 &amp; 문자 연산자"></a>수식 연산자 &amp; 문자 연산자</h2><h2 id="두-문자를-붙이는-연산자"><a href="#두-문자를-붙이는-연산자" class="headerlink" title="|| 두 문자를 붙이는 연산자"></a>|| 두 문자를 붙이는 연산자</h2><p>SELECT<br>    employee_id||’-‘||emp_name AS employee_info<br>FROM employees<br>WHERE ROWNUM &lt; 5;</p>
<h2 id="표현식"><a href="#표현식" class="headerlink" title="표현식"></a>표현식</h2><h2 id="조건문-IF-조건문-PL-x2F-SQL"><a href="#조건문-IF-조건문-PL-x2F-SQL" class="headerlink" title="조건문, IF 조건문 (PL&#x2F;SQL)"></a>조건문, IF 조건문 (PL&#x2F;SQL)</h2><h2 id="CASE-표현식"><a href="#CASE-표현식" class="headerlink" title="CASE 표현식"></a>CASE 표현식</h2><p>SELECT<br>    employee_id<br>    , salary<br>    , CASE WHEN salary &lt;&#x3D; 5000 THEN ‘C등급’<br>        WHEN salary &gt;5000 AND salary &lt;&#x3D;15000 THEN ‘B등급’<br>        ELSE ‘A등급’<br>     END AS salary_grade<br>FROM employees;</p>
<h2 id="조건식"><a href="#조건식" class="headerlink" title="조건식"></a>조건식</h2><h2 id="TRUE-FALSE-UNKNOWN-세가지-타입으로-반환"><a href="#TRUE-FALSE-UNKNOWN-세가지-타입으로-반환" class="headerlink" title="TRUE, FALSE, UNKNOWN 세가지 타입으로 반환"></a>TRUE, FALSE, UNKNOWN 세가지 타입으로 반환</h2><h2 id="비교-조건식"><a href="#비교-조건식" class="headerlink" title="비교 조건식"></a>비교 조건식</h2><h2 id="분석-DB-데이터-추출시-서브쿼리-사용"><a href="#분석-DB-데이터-추출시-서브쿼리-사용" class="headerlink" title="분석, DB 데이터 추출시, 서브쿼리 사용\"></a>분석, DB 데이터 추출시, 서브쿼리 사용\</h2><p>SELECT<br>    employee_id<br>    , salary<br>FROM employees<br>WHERE salary &#x3D; ANY(2000,3000,4000)<br>ORDER BY employee_id;</p>
<h2 id="ANY-gt-OR-연산자-변환"><a href="#ANY-gt-OR-연산자-변환" class="headerlink" title="ANY ##&gt; OR 연산자 변환"></a>ANY ##&gt; OR 연산자 변환</h2><p>SELECT<br>    employee_id<br>    , salary<br>FROM employees<br>WHERE salary &#x3D; 2000 OR salary &#x3D; 3000 OR salary &#x3D; 4000<br>ORDER BY employee_id; ## 너무 길어서 데이터를 가공하기 어려움</p>
<h2 id="ALL"><a href="#ALL" class="headerlink" title="ALL"></a>ALL</h2><p>SELECT<br>    employee_id<br>    , salary<br>FROM employees<br>WHERE salary &#x3D; All(2000,3000,4000)<br>ORDER BY employee_id;</p>
<h2 id="SOME"><a href="#SOME" class="headerlink" title="SOME"></a>SOME</h2><p>SELECT<br>    employee_id<br>    , salary<br>FROM employees<br>WHERE salary &#x3D; SOME(2000,3000,4000)<br>ORDER BY employee_id;</p>
<h2 id="NOT-조건식"><a href="#NOT-조건식" class="headerlink" title="NOT 조건식"></a>NOT 조건식</h2><p>SELECT<br>    employee_id<br>    , salary<br>FROM employees<br>WHERE NOT(salary &gt;&#x3D;2500)<br>ORDER BY employee_id;</p>
<h2 id="NULL-조건식"><a href="#NULL-조건식" class="headerlink" title="NULL 조건식"></a>NULL 조건식</h2><h2 id="IN-조건식"><a href="#IN-조건식" class="headerlink" title="IN 조건식"></a>IN 조건식</h2><h2 id="조건절에-명시한-값이-포함된-건을-반환하는데-앞에서-배웠던-ANT"><a href="#조건절에-명시한-값이-포함된-건을-반환하는데-앞에서-배웠던-ANT" class="headerlink" title="조건절에 명시한 값이 포함된 건을 반환하는데 앞에서 배웠던 ANT"></a>조건절에 명시한 값이 포함된 건을 반환하는데 앞에서 배웠던 ANT</h2><p>SELECT<br> employee_id<br> , salary<br>FROM employees<br>WHERE salary IN(2000,3000,4000)<br>ORDER BY employee_id;</p>
<p>SELECT<br> employee_id<br> , salary<br>FROM employees<br>WHERE salary NOT IN(2000,3000,4000)<br>ORDER BY employee_id;</p>
<h2 id="EXIST-조건식"><a href="#EXIST-조건식" class="headerlink" title="EXIST 조건식"></a>EXIST 조건식</h2><h2 id="서브쿼리만-올-수-있음"><a href="#서브쿼리만-올-수-있음" class="headerlink" title="서브쿼리만 올 수 있음"></a>서브쿼리만 올 수 있음</h2><h2 id="네카라쿠배토당야"><a href="#네카라쿠배토당야" class="headerlink" title="네카라쿠배토당야"></a>네카라쿠배토당야</h2><h2 id="개발자들-코딩테스트-진행-알고리즘-x2F-기술면접-x2F-임원면접"><a href="#개발자들-코딩테스트-진행-알고리즘-x2F-기술면접-x2F-임원면접" class="headerlink" title="개발자들 코딩테스트 진행(알고리즘)&#x2F;기술면접&#x2F;임원면접"></a>개발자들 코딩테스트 진행(알고리즘)&#x2F;기술면접&#x2F;임원면접</h2><h2 id="분석가들-sql-x2F-분석과제-x2F"><a href="#분석가들-sql-x2F-분석과제-x2F" class="headerlink" title="분석가들,sql&#x2F; 분석과제&#x2F;"></a>분석가들,sql&#x2F; 분석과제&#x2F;</h2><h2 id="LIKE-조건"><a href="#LIKE-조건" class="headerlink" title="LIKE 조건"></a>LIKE 조건</h2><h2 id="문자열을-패턴으로-검색해서-사용하는-조건식"><a href="#문자열을-패턴으로-검색해서-사용하는-조건식" class="headerlink" title="문자열을 패턴으로 검색해서 사용하는 조건식"></a>문자열을 패턴으로 검색해서 사용하는 조건식</h2><p>SELECT<br>    emp_name<br>FROM employees<br>WHERE emp_name LIKE ‘%<strong>A</strong>%’<br>ORDER BY emp_name;</p>
<p>SELECT<br>    emp_name<br>FROM employees<br>WHERE emp_name LIKE ‘Al%’<br>ORDER BY emp_name;</p>
<h2 id="4장-숫자-함수"><a href="#4장-숫자-함수" class="headerlink" title="4장 숫자 함수"></a>4장 숫자 함수</h2><h2 id="P-126"><a href="#P-126" class="headerlink" title="P.126"></a>P.126</h2><p>SELECT ABS(10), ABS(-10), ABS(-10.123)<br>FROM DUAL;</p>
<h2 id="정수-반환"><a href="#정수-반환" class="headerlink" title="정수 반환"></a>정수 반환</h2><h2 id="올림"><a href="#올림" class="headerlink" title="올림"></a>올림</h2><p>SELECT CEIL(10.123),CEIL(10.541), CEIL (11.001)<br>FROM DUAL</p>
<h2 id="내림"><a href="#내림" class="headerlink" title="내림"></a>내림</h2><p>SELECT FLOOR(10.123),FLOOR(10.541), FLOOR (11.001)<br>FROM DUAL</p>
<h2 id="반올림"><a href="#반올림" class="headerlink" title="반올림"></a>반올림</h2><p>SELECT ROUND(10.123,2),ROUND(10.541,2), ROUND (11.001,2)<br>FROM DUAL</p>
<h2 id="TRUNC"><a href="#TRUNC" class="headerlink" title="TRUNC"></a>TRUNC</h2><h2 id="반올림-안함-소수점-질삭-자리수-지정-가능"><a href="#반올림-안함-소수점-질삭-자리수-지정-가능" class="headerlink" title="반올림 안함. 소수점 질삭. 자리수 지정 가능"></a>반올림 안함. 소수점 질삭. 자리수 지정 가능</h2><p>SELECT TRUNC(115.155),TRUNC(115.155,1),TRUNC(115.155,2),TRUNC(115.155,-2)<br>    FROM DUAL;</p>
<h2 id="POWER"><a href="#POWER" class="headerlink" title="POWER"></a>POWER</h2><h2 id="POWER-함수-SQRT"><a href="#POWER-함수-SQRT" class="headerlink" title="POWER 함수, SQRT"></a>POWER 함수, SQRT</h2><p>SELECT POWER(3,2), POWER(3,3), POWER(3,3.001)<br>FROM DUAL;</p>
<h2 id="제곱근"><a href="#제곱근" class="headerlink" title="제곱근"></a>제곱근</h2><p>SELECT SQRT(2), SQRT(5), SQRT(9)<br>FROM DUAL;</p>
<h2 id="과거-SQL-DB-에서-자료를-조회하는-용"><a href="#과거-SQL-DB-에서-자료를-조회하는-용" class="headerlink" title="과거 : SQL,DB 에서 자료를 조회하는 용"></a>과거 : SQL,DB 에서 자료를 조회하는 용</h2><h2 id="현재-SQL-gt-수학-amp-통계-도구처럼-진화"><a href="#현재-SQL-gt-수학-amp-통계-도구처럼-진화" class="headerlink" title="현재 : SQL ##&gt; 수학&amp; 통계 도구처럼 진화"></a>현재 : SQL ##&gt; 수학&amp; 통계 도구처럼 진화</h2><h2 id="오라클-19C"><a href="#오라클-19C" class="headerlink" title="오라클 19C\"></a>오라클 19C\</h2><h2 id="함수를-나눈-나머지-값-반환"><a href="#함수를-나눈-나머지-값-반환" class="headerlink" title="함수를 나눈 나머지 값 반환"></a>함수를 나눈 나머지 값 반환</h2><p>SELECT MOD(19,4),MOD(19.123,4.2)<br>    FROM DUAL;</p>
<h2 id="문자열-데이터-전처리"><a href="#문자열-데이터-전처리" class="headerlink" title="문자열 데이터 전처리"></a>문자열 데이터 전처리</h2><h2 id="게임사"><a href="#게임사" class="headerlink" title="게임사"></a>게임사</h2><h2 id="채팅-gt-문자-데이터"><a href="#채팅-gt-문자-데이터" class="headerlink" title="채팅 ##&gt; 문자 데이터"></a>채팅 ##&gt; 문자 데이터</h2><h2 id="텍스트-마이팅-빈도-워드클라우드"><a href="#텍스트-마이팅-빈도-워드클라우드" class="headerlink" title="텍스트 마이팅 (빈도, 워드클라우드)"></a>텍스트 마이팅 (빈도, 워드클라우드)</h2><h2 id="100GB-x2F-RAM-32GB-64GB"><a href="#100GB-x2F-RAM-32GB-64GB" class="headerlink" title="100GB &#x2F; RAM 32GB, 64GB"></a>100GB &#x2F; RAM 32GB, 64GB</h2><p>SELECT INITCAP(‘never say goodbye’), INITCAP(‘never6say*good가bye’)<br>FROM DUAL;</p>
<h2 id="LOWER-함수"><a href="#LOWER-함수" class="headerlink" title="LOWER 함수"></a>LOWER 함수</h2><h2 id="메가변수로-돌아오는-문자를-모두-소문자로-UPPDER-함수는-대문자로-반환"><a href="#메가변수로-돌아오는-문자를-모두-소문자로-UPPDER-함수는-대문자로-반환" class="headerlink" title="메가변수로 돌아오는 문자를 모두 소문자로 UPPDER 함수는 대문자로 반환"></a>메가변수로 돌아오는 문자를 모두 소문자로 UPPDER 함수는 대문자로 반환</h2><p>SELECT LOWER(‘NEVER SAY GOODBYE’), UPPER(‘never say goodbye’)<br>FROM DUAL;</p>
<h2 id="CONCAT-연산자와-비슷"><a href="#CONCAT-연산자와-비슷" class="headerlink" title="CONCAT || 연산자와 비슷"></a>CONCAT || 연산자와 비슷</h2><p>SELECT CONCAT(‘I Have’, ‘A Dream’),’I Have’||’A Dream’<br>FROM DUAL;</p>
<h2 id="SUBSTR"><a href="#SUBSTR" class="headerlink" title="SUBSTR"></a>SUBSTR</h2><h2 id="문자열-가르기"><a href="#문자열-가르기" class="headerlink" title="문자열 가르기"></a>문자열 가르기</h2><p>SELECT SUBSTR(‘ABCDEFG’,1,4), SUBSTR(‘ABCDEFG’,-1,4)<br>FROM DUAL;</p>
<h2 id="글자를-1개당-3bYTE-씩-인식-교재는-2Byte씩-인식"><a href="#글자를-1개당-3bYTE-씩-인식-교재는-2Byte씩-인식" class="headerlink" title="글자를 1개당 3bYTE 씩 인식 (교재는 2Byte씩 인식)"></a>글자를 1개당 3bYTE 씩 인식 (교재는 2Byte씩 인식)</h2><p>SELECT SUBSTRB(‘ABCDEFG’,1,4), SUBSTRB(‘가나다라마바사’,1,4)<br>FROM DUAL;</p>
<p>##ltrim, rtrim<br>SELECT<br>    LTRIM(‘ABCDEFGABC’,’ABC’)<br>    ,RTRIM(‘ABCDEFGABC’,’ABC’)<br>FROM DUAL;</p>
<h2 id="LPAD-RPAD"><a href="#LPAD-RPAD" class="headerlink" title="LPAD, RPAD"></a>LPAD, RPAD</h2><h2 id="날짜-함수-P-138"><a href="#날짜-함수-P-138" class="headerlink" title="날짜 함수(P.138)"></a>날짜 함수(P.138)</h2><p>SELECT SYSDATE, SYSTIMESTAMP FROM DUAL;</p>
<h2 id="ADD-MONTHS"><a href="#ADD-MONTHS" class="headerlink" title="ADD_MONTHS"></a>ADD_MONTHS</h2><h2 id="ADD-MONTHS-함수-매개변수로-들어온-날짜-integer-만큼-월을-더함"><a href="#ADD-MONTHS-함수-매개변수로-들어온-날짜-integer-만큼-월을-더함" class="headerlink" title="ADD_MONTHS 함수, 매개변수로 들어온 날짜, integer 만큼 월을 더함"></a>ADD_MONTHS 함수, 매개변수로 들어온 날짜, integer 만큼 월을 더함</h2><p>SELECT ADD_MONTHS(SYSDATE,1)FROM DUAL;</p>
<p>SELECT MONTHS_BETWEEN(SYSDATE,ADD_MONTHS(SYSDATE,1))mon1<br>FROM DUAL;</p>
<h2 id="LAST-DATE-해당월의-마지막-일자"><a href="#LAST-DATE-해당월의-마지막-일자" class="headerlink" title="LAST_DATE : 해당월의 마지막 일자"></a>LAST_DATE : 해당월의 마지막 일자</h2><p>SELECT LAST_DAY(SYSDATE)FROM DUAL;</p>
<h2 id="ROUND-TRUNC-에-날짜를-넣으면-반올림한-날짜-잘라낸-날짜를-반환"><a href="#ROUND-TRUNC-에-날짜를-넣으면-반올림한-날짜-잘라낸-날짜를-반환" class="headerlink" title="ROUND, TRUNC 에 날짜를 넣으면 반올림한 날짜, 잘라낸 날짜를 반환"></a>ROUND, TRUNC 에 날짜를 넣으면 반올림한 날짜, 잘라낸 날짜를 반환</h2><h2 id="NEXT-DAY"><a href="#NEXT-DAY" class="headerlink" title="NEXT_DAY"></a>NEXT_DAY</h2><p>SELECT NEXT_DAY(SYSDATE,’금요일’)<br>FROM DUAL;</p>
<h2 id="P-141-변환함수"><a href="#P-141-변환함수" class="headerlink" title="P.141 변환함수"></a>P.141 변환함수</h2><h2 id="TO-CHAR-숫자-혹은-날씨-FORMAT"><a href="#TO-CHAR-숫자-혹은-날씨-FORMAT" class="headerlink" title="TO_CHAR(숫자 혹은 날씨, FORMAT)"></a>TO_CHAR(숫자 혹은 날씨, FORMAT)</h2><p>SELECT TO_CHAR(123456789, ‘999,999,999’)<br>FROM DUAL;</p>
<p>SELECT TO_CHAR(SYSDATE,’D’)FROM DUAL;</p>
<h2 id="문자를-숫자로-변환"><a href="#문자를-숫자로-변환" class="headerlink" title="문자를 숫자로 변환"></a>문자를 숫자로 변환</h2><p>SELECT TO_NUMBER(‘123456’)<br>FROM DUAL;</p>
<h2 id="NULL-관련-함수-중요"><a href="#NULL-관련-함수-중요" class="headerlink" title="NULL 관련 함수 중요!!!!!!!"></a>NULL 관련 함수 중요!!!!!!!</h2><p>SELECT manager_id, employee_id FROM employees;</p>
<h2 id="NVL-표현식-1이-NULL일때-표현식-2를-반환함"><a href="#NVL-표현식-1이-NULL일때-표현식-2를-반환함" class="headerlink" title="NVL: 표현식 1이 NULL일때, 표현식 2를 반환함."></a>NVL: 표현식 1이 NULL일때, 표현식 2를 반환함.</h2><p>SELECT NVL(manager_id, employee_id)<br>FROM employees<br>WHERE manager_id IS NULL;</p>
<h2 id="NVL2-표현식-1이-NULL이-아니면-표현식-2-출력"><a href="#NVL2-표현식-1이-NULL이-아니면-표현식-2-출력" class="headerlink" title="NVL2 표현식 1이 NULL이 아니면 표현식 2 출력"></a>NVL2 표현식 1이 NULL이 아니면 표현식 2 출력</h2><h2 id="표현식-2가-NULL이면-표현식-3을-출력"><a href="#표현식-2가-NULL이면-표현식-3을-출력" class="headerlink" title="표현식 2가 NULL이면 표현식 3을 출력"></a>표현식 2가 NULL이면 표현식 3을 출력</h2><p>SELECT employee_id,commission_pct,salary FROM employees;</p>
<p>SELECT employee_id<br>                , salary<br>                , commission_pct<br>                , NVL2(commission_pct, salary + (salary * commission_pct), salary) AS salary2<br>FROM employees<br>WHERE employee_id IN (118, 179);</p>
<h2 id="COALESCE-expr1-expr2"><a href="#COALESCE-expr1-expr2" class="headerlink" title="COALESCE(expr1,expr2)"></a>COALESCE(expr1,expr2)</h2><h2 id="매개변수로-들어오는-표현식에서-null이-아닌-첫번째-표현식-반환"><a href="#매개변수로-들어오는-표현식에서-null이-아닌-첫번째-표현식-반환" class="headerlink" title="매개변수로 들어오는 표현식에서 null이 아닌 첫번째 표현식 반환"></a>매개변수로 들어오는 표현식에서 null이 아닌 첫번째 표현식 반환</h2><p>SELECT<br>    employee_id<br>    ,salary<br>    ,commission_pct<br>    ,COALESCE(salary * commission_pct, salary) as salary2<br>FROM employees;</p>
<h2 id="DECODE"><a href="#DECODE" class="headerlink" title="DECODE"></a>DECODE</h2><h2 id="IF-ELIF-ELIF-ELIF-ELSE"><a href="#IF-ELIF-ELIF-ELIF-ELSE" class="headerlink" title="IF-ELIF-ELIF-ELIF-ELSE"></a>IF-ELIF-ELIF-ELIF-ELSE</h2><p>SELECT * FROM sales;</p>
<p>SELECT prod_id<br>    ,DECODE(channel_id, 3, ‘Direct’,<br>                        9, ‘Direct’,<br>                        5, ‘Indirect’,<br>                        4, ‘Indirect’,<br>                           ‘Other’) decodes<br>FROM sales<br>WHERE rownum&lt;10;</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://kimsunhyung.github.io/2022/07/20/0720_oracler_sql%EA%B8%B0%EC%B4%88%EB%AC%B8%EB%B2%95/" data-id="cl5taopo50000l0tve380cujk" data-title="0720_oracle_sql 기초문법" class="article-share-link">Share</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2022/07/28/0728airflow_pipeline_spark_install/">0728_airflow pipeline 구축 및 spark 설치</a>
          </li>
        
          <li>
            <a href="/2022/07/27/0727_WSL2%EC%84%A4%EC%B9%98_WINDOW%20SUBSYSTEM%20FOR%20linux%EC%84%A4%EC%B9%98/">0727 WSL2 설치</a>
          </li>
        
          <li>
            <a href="/2022/07/27/0727_%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98%20%EC%84%A4%EC%B9%98/">0727 환경변수 설치</a>
          </li>
        
          <li>
            <a href="/2022/07/27/0727_airflow%EC%84%A4%EC%B9%98/">0727 airflow설치</a>
          </li>
        
          <li>
            <a href="/2022/07/27/0727_vscode_wsl%EC%97%B0%EB%8F%99/">0727 vs code, wsl연동</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2022 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>